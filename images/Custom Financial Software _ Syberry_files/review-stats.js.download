"use strict";!function(t,e,a){var n=a(e),s=a("html"),o=a("html, body"),i=a(".popup-rating-stars-wrapper"),r=a(".rating-popup-description"),l=5;function p(t,e){var n='<div class=\'rating\' style="display:hidden">\n                <div itemscope itemtype="http://schema.org/Product">\n                    <span itemprop="brand">Syberry Corporation</span>\n                    <span itemprop="name">'.concat(reviewTitle,'</span>\n                    <span itemprop="description">').concat(reviewDescription,'</span>\n                    <div itemprop="image" itemscope itemtype="http://schema.org/ImageObject">\n                        <img src="/i/logotype.svg" itemprop="url">\n                    </div>\n                    <span itemprop="aggregateRating" itemscope="" itemtype="http://schema.org/AggregateRating">\n                        <span itemprop="ratingValue">').concat(t,'</span> stars - based on\n                        <span itemprop="reviewCount">').concat(e,"</span> reviews\n                    </span>\n                </div>\n            </div>");a(n).insertBefore("#review-form")}a.ajax({url:reviewStatsUrl,method:"GET",contentType:"application/json; charset=UTF-8",success:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=t.location.pathname.replace(/\/$/,""),n=e.find(function(t){return t.url===a})||{};n.rating&&n.count&&p(n.rating,n.count)}(e)}}),n.ready(function(){var e,n=a("#submit-feedback"),c=a("<p class='error-msg'>The submission wasn't successful, please try again.</p>").hide(),f=a("<p class='thanks-msg'>Thank you for your feedback!</p>").hide(),g=a('input[type="radio"]'),u=localStorage.getItem("rating"),h=t.location.pathname,d=a(".rating-popup-overlay"),m=a(".rating-popup"),v=a(".page-main-wrapper"),w=u&&JSON.parse(u).find(function(t){return t.path===h}),b=0;if(a(".rating-popup-close, .rating-popup-overlay").on("click",function(t){t.preventDefault(),d.removeClass("rating-overlay-show"),m.removeClass("open"),s.removeClass("popup-open rating-popup-open"),v.offset({top:0}),o.scrollTop(b)}),w){g.prop("disabled",!0),e=w.rating;(function(){a(this).siblings("label").each(function(){a(this).attr("for").slice(-1)<=e?(a(this).addClass("on"),n.hide()):a(this).removeClass("on")})}).call(g)}else{var y=function(){n.after(c),a(".error-msg").fadeIn("slow")};g.click(function(){e=a(this).attr("id").slice(-1),a(this).siblings("label").each(function(){a(this).attr("for").slice(-1)<=e?(a(this).addClass("on"),n.prop("disabled",!1),a(".rating-feedback-stars > label").unbind("mouseenter mouseleave")):a(this).removeClass("on")})}),a(".rating-feedback-stars > label").hover(function(){var t=a(this).attr("for").slice(-1);a(".rating-feedback-stars > label").each(function(){a(this).attr("for").slice(-1)<=t?a(this).addClass("on"):a(this).removeClass("on")})},function(){a(".rating-feedback-stars > label").each(function(){a(this).removeClass("on")})}),n.click(function(o){o.preventDefault(),c.hide();var w=a("#review-form").attr("action"),C={review_url:/\/$/.test(h)?h.slice(0,-1):h,review_rating:Number(e)};function N(t){var e=a(".rating").length,n=e?a("[itemprop='ratingValue']").html():Number(t),s=e?a("[itemprop='reviewCount']").html():1,o=e?Number(s)+1:Number(s),c=e?((Number(n)*Number(s)+Number(t))/o).toFixed(2):(Number(t)/o).toFixed(2),f=c-c%1,g=c%1*100;e?(a("[itemprop='ratingValue']").html(c),a("[itemprop='reviewCount']").html(o)):p(t,1);var u=l-f;g&&(u-=1),r.html("".concat(o," user").concat(1===o?"":"s"," found the page helpful")),e&&i.html(""),function(t,e,a){for(var n=0;n<t;n++)i.prepend('<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" class="inline-svg"><path d="M28.3781 11.0343l-7.9344-1.1531-3.5469-7.1907a.9944.9944 0 00-.4531-.453c-.4938-.2438-1.0938-.0407-1.3406.453l-3.5469 7.1907-7.9344 1.1531a.998.998 0 00-.5719.2906 1.0017 1.0017 0 00.0188 1.4156l5.7406 5.5969-1.3562 7.9031a.9983.9983 0 001.45 1.0532l7.0968-3.7313 7.0969 3.7313a.993.993 0 00.6344.1c.5437-.0938.9094-.6094.8156-1.1532l-1.3562-7.9031 5.7406-5.5969a.998.998 0 00.2906-.5718c.0844-.5469-.2969-1.0532-.8437-1.1344z" fill="#0076BE"></path></svg>');var s='<svg width="32" height="32" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                <defs>\n                    <linearGradient id="half">\n                        <stop offset="0%" stop-color="#0076BE"/>\n                        <stop class="rating-gradient-step" offset="'.concat(e,'%" stop-color="#0076BE"/>\n                        <stop class="rating-gradient-step" offset="').concat(e,'%" stop-color="white"/>\n                        <stop offset="100%" stop-color="white"/>\n                    </linearGradient>\n\n                    <linearGradient id="half2">\n                        <stop offset="0%" stop-color="#0076BE"/>\n                        <stop class="rating-gradient-step" offset="').concat(e,'%" stop-color="#0076BE"/>\n                        <stop class="rating-gradient-step" offset="').concat(e,'%" stop-color="#474747"/>\n                        <stop offset="100%" stop-color="#474747"/>\n                    </linearGradient>\n                </defs>\n                <g fill="url(#half)">\n                    <path d="M28.3781 11.0343l-7.9344-1.1531-3.5469-7.1907a.9944.9944 0 00-.4531-.453c-.4938-.2438-1.0938-.0407-1.3406.453l-3.5469 7.1907-7.9344 1.1531a.998.998 0 00-.5719.2906 1.0017 1.0017 0 00.0188 1.4156l5.7406 5.5969-1.3562 7.9031a.9983.9983 0 001.45 1.0532l7.0968-3.7313 7.0969 3.7313a.993.993 0 00.6344.1c.5437-.0938.9094-.6094.8156-1.1532l-1.3562-7.9031 5.7406-5.5969a.998.998 0 00.2906-.5718c.0844-.5469-.2969-1.0532-.8437-1.1344z"/>\n                </g>\n\n                <g fill="url(#half2)" fill-opacity=".5">\n                    <path d="M28.3781 11.0343l-7.9344-1.1531-3.5469-7.1907a.9944.9944 0 00-.4531-.453c-.4938-.2438-1.0938-.0407-1.3406.453l-3.5469 7.1907-7.9344 1.1531a.998.998 0 00-.5719.2906 1.0017 1.0017 0 00.0188 1.4156l5.7406 5.5969-1.3562 7.9031a.9983.9983 0 001.45 1.0532l7.0968-3.7313 7.0969 3.7313a.993.993 0 00.6344.1c.5437-.0938.9094-.6094.8156-1.1532l-1.3562-7.9031 5.7406-5.5969a.998.998 0 00.2906-.5718c.0844-.5469-.2969-1.0532-.8437-1.1344zm-7.6032 6.5156l1.1282 6.5719-5.9032-3.1-5.9031 3.1031 1.1281-6.5719-4.775-4.6562 6.6-.9594 2.95-5.9781 2.95 5.9781 6.6.9594-4.775 4.6531z"/>\n                </g>\n                </svg>');e&&i.append(s);for(var o=0;o<a;o++)i.append('<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" class="inline-svg"><path d="M28.3781 11.0343l-7.9344-1.1531-3.5469-7.1907a.9944.9944 0 00-.4531-.453c-.4938-.2438-1.0938-.0407-1.3406.453l-3.5469 7.1907-7.9344 1.1531a.998.998 0 00-.5719.2906 1.0017 1.0017 0 00.0188 1.4156l5.7406 5.5969-1.3562 7.9031a.9983.9983 0 001.45 1.0532l7.0968-3.7313 7.0969 3.7313a.993.993 0 00.6344.1c.5437-.0938.9094-.6094.8156-1.1532l-1.3562-7.9031 5.7406-5.5969a.998.998 0 00.2906-.5718c.0844-.5469-.2969-1.0532-.8437-1.1344zm-7.6032 6.5156l1.1282 6.5719-5.9032-3.1-5.9031 3.1031 1.1281-6.5719-4.775-4.6562 6.6-.9594 2.95-5.9781 2.95 5.9781 6.6.9594-4.775 4.6531z" fill="#474747" fill-opacity=".5"></path></svg>')}(f,g,u)}a.ajax({url:w,method:"POST",data:JSON.stringify(C),contentType:"application/json; charset=UTF-8",beforeSend:function(t){(0>e||e>5)&&t.abort()},success:function(o){if(o.success){if(null===u)localStorage.setItem("rating",JSON.stringify([{path:h,rating:e}]));else{var i=JSON.parse(u);i.push({path:h,rating:e}),localStorage.setItem("rating",JSON.stringify(i))}n.fadeOut("slow",function(){a(this).replaceWith(f),a(".thanks-msg").fadeIn("slow")}),g.prop("disabled",!0),N(e),m.length&&(d.addClass("rating-overlay-show"),b=t.pageYOffset,m.addClass("open"),s.addClass("popup-open rating-popup-open"),v.offset({top:-b}))}else y()},error:function(){y()}})})}})}(window,document,jQuery);